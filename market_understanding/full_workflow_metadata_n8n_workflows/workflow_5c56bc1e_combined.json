{
  "url": "https://www.thevibemarketer.com/members/workflow-id/5c56bc1e",
  "workflow_id": "5c56bc1e",
  "workflow_id_display": "5c56bc1e",
  "workflow_name": "Request and Receive Zigbee backup from zigbee2mqtt and save it via SFTP",
  "category": "Other",
  "difficulty": "‚úÖ Beginner",
  "total_nodes": "6",
  "tools_integrations": null,
  "tags": [
    "Scheduled"
  ],
  "author_name": "Hubschrauber",
  "author_profile_url": "https://n8n.io/creators/hubschrauber/",
  "primary_use_case": "üéØ miscellaneous Automation",
  "setup_time": "‚è±Ô∏è <15 mins",
  "use_cases": [],
  "what_it_does": "Effortlessly automate Zigbee device backups in HomeAssistant/zigbee2mqtt with n8n‚Äîsecure, scheduled, and hassle-free. Learn more now!",
  "key_benefits": [
    "Process automation",
    "Workflow optimization",
    "Integration with scheduleTrigger, mqttTrigger, mqtt"
  ],
  "nodes": [
    {
      "name": "CRON Monday 2:45 am",
      "type": "Trigger"
    },
    {
      "name": "MQTT Trigger - Backup Response",
      "type": "Trigger"
    },
    {
      "name": "Parse JSON Object from Message Text",
      "type": "Data Processing"
    },
    {
      "name": "SFTP zip file content",
      "type": "Process"
    },
    {
      "name": "Send Zigbee2MQTT backup request",
      "type": "Process"
    },
    {
      "name": "Convert to File - base64 to binary",
      "type": "Data Output"
    }
  ],
  "api_connections": [],
  "rating": null,
  "review_count": 0,
  "page_title": "The Vibe Marketer - 10x Your Speed To Market With AI",
  "n8n_workflow": {
    "nodes": [
      {
        "name": "SFTP zip file content",
        "type": "n8n-nodes-base.ftp",
        "position": [
          1520,
          680
        ],
        "parameters": {
          "path": "=zigbee_backups/zigbee_backup_{{ new Date().toISOString().replaceAll(':','_') }}.zip",
          "protocol": "sftp",
          "operation": "upload"
        },
        "credentials": {
          "sftp": {
            "name": "SFTP Zigbee Backups"
          }
        },
        "typeVersion": 1,
        "id": "a7c533b5db5259c7"
      },
      {
        "name": "CRON Monday 2:45 am",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          860,
          440
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "cronExpression",
                "expression": "45 2 * * 1"
              }
            ]
          }
        },
        "typeVersion": 1.1,
        "id": "db8a1f2aaf1b449f"
      },
      {
        "name": "Send Zigbee2MQTT backup request",
        "type": "n8n-nodes-base.mqtt",
        "position": [
          1040,
          440
        ],
        "parameters": {
          "topic": "zigbee2mqtt/bridge/request/backup",
          "message": "getbackup",
          "options": {},
          "sendInputData": false
        },
        "credentials": {
          "mqtt": {
            "name": "MQTT account"
          }
        },
        "typeVersion": 1,
        "id": "58ed7e0b80c8964a"
      },
      {
        "name": "MQTT Trigger - Backup Response",
        "type": "n8n-nodes-base.mqttTrigger",
        "position": [
          860,
          680
        ],
        "parameters": {
          "topics": "zigbee2mqtt/bridge/response/backup",
          "options": {}
        },
        "credentials": {
          "mqtt": {
            "name": "MQTT account"
          }
        },
        "typeVersion": 1,
        "id": "6b18693b6a7b341e"
      },
      {
        "name": "Parse JSON Object from Message Text",
        "type": "n8n-nodes-base.code",
        "position": [
          1080,
          680
        ],
        "parameters": {
          "mode": "runOnceForEachItem",
          "jsCode": "\nlet containerObject = JSON.parse($json.message);\nlet messageObject = containerObject.data;\nreturn messageObject;"
        },
        "typeVersion": 2,
        "id": "2e0d4c90644b1984"
      },
      {
        "name": "Convert to File - base64 to binary",
        "type": "n8n-nodes-base.convertToFile",
        "position": [
          1300,
          680
        ],
        "parameters": {
          "options": {},
          "operation": "toBinary",
          "sourceProperty": "zip"
        },
        "typeVersion": 1,
        "id": "2857c6936a6b42d5"
      }
    ],
    "connections": {
      "CRON Monday 2:45 am": {
        "main": [
          [
            {
              "node": "Send Zigbee2MQTT backup request",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "MQTT Trigger - Backup Response": {
        "main": [
          [
            {
              "node": "Parse JSON Object from Message Text",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Convert to File - base64 to binary": {
        "main": [
          [
            {
              "node": "SFTP zip file content",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Parse JSON Object from Message Text": {
        "main": [
          [
            {
              "node": "Convert to File - base64 to binary",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "id": "c738cab69a6ec1aa",
    "name": "Request and Receive Zigbee backup from zigbee2mqtt and save it via SFTP",
    "settings": {},
    "staticData": null,
    "tags": []
  }
}