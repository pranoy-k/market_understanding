{
  "url": "https://www.thevibemarketer.com/members/workflow-id/7bba4420",
  "workflow_id": "7bba4420",
  "workflow_id_display": "7bba4420",
  "workflow_name": "Search and download torrents using transmission-daemon",
  "category": "Other",
  "difficulty": "üéØ Advanced",
  "total_nodes": "8",
  "tools_integrations": null,
  "tags": [
    "google"
  ],
  "author_name": "Danger",
  "author_profile_url": "https://n8n.io/creators/dangerblack/",
  "primary_use_case": "üéØ miscellaneous Automation",
  "setup_time": "‚è±Ô∏è 1-2 hrs",
  "use_cases": [],
  "what_it_does": "Effortlessly automate movie torrent searches and downloads with voice commands using n8n, Transmission, Google Assistant, and IFTTT. Learn more now!",
  "key_benefits": [
    "Process automation",
    "Workflow optimization",
    "Integration with if, httpRequest, telegram"
  ],
  "nodes": [
    {
      "name": "SearchTorrent",
      "type": "Data Processing"
    },
    {
      "name": "Webhook",
      "type": "Trigger"
    },
    {
      "name": "Start download",
      "type": "Data Input"
    },
    {
      "name": "Start download new token",
      "type": "Data Input"
    }
  ],
  "api_connections": [],
  "rating": null,
  "review_count": 0,
  "page_title": "The Vibe Marketer - 10x Your Speed To Market With AI",
  "n8n_workflow": {
    "nodes": [
      {
        "name": "Webhook",
        "type": "n8n-nodes-base.webhook",
        "position": [
          310,
          300
        ],
        "webhookId": "6be952e8-e30f-4dd7-90b3-bc202ae9f174",
        "parameters": {
          "path": "6be952e8-e30f-4dd7-90b3-bc202ae9f174",
          "options": {
            "rawBody": true
          },
          "httpMethod": "POST"
        },
        "typeVersion": 1,
        "id": "173c2e39565b5df7"
      },
      {
        "name": "SearchTorrent",
        "type": "n8n-nodes-base.functionItem",
        "position": [
          530,
          300
        ],
        "parameters": {
          "functionCode": "const TorrentSearchApi = require('torrent-search-api');\n\nTorrentSearchApi.enableProvider('KickassTorrents');\nTorrentSearchApi.enableProvider('Rarbg');\n\nitem.title = $node[\"Webhook\"].json[\"body\"].title.trim();\n\nconst torrents = await TorrentSearchApi.search(item.title, 'All', 5);\n\nitem.torrents = torrents;\nitem.found = true;\n\nif(!torrents.length)\n  item.found = false;\n  \nconsole.log('Done!');\n\nreturn item;"
        },
        "typeVersion": 1,
        "id": "89017122a9b5680f"
      },
      {
        "name": "Start download",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          960,
          280
        ],
        "parameters": {
          "url": "http://localhost:9091/transmission/rpc",
          "options": {},
          "requestMethod": "POST",
          "authentication": "basicAuth",
          "jsonParameters": true,
          "bodyParametersJson": "={\"method\":\"torrent-add\",\"arguments\":{\"paused\":false,\"download-dir\":\"/media/FILM/TORRENT\",\"filename\":\"{{$node[\"SearchTorrent\"].json[\"torrents\"][0][\"magnet\"]}}\"}}",
          "headerParametersJson": "{\"X-Transmission-Session-Id\":\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"}"
        },
        "credentials": {
          "httpBasicAuth": "Transmission-basic-auth"
        },
        "typeVersion": 1,
        "continueOnFail": true,
        "id": "1abcd924d19883f3"
      },
      {
        "name": "IF",
        "type": "n8n-nodes-base.if",
        "position": [
          740,
          300
        ],
        "parameters": {
          "conditions": {
            "boolean": [
              {
                "value1": "={{$json[\"found\"]}}",
                "value2": true
              }
            ]
          }
        },
        "typeVersion": 1,
        "id": "842917c82ab03865"
      },
      {
        "name": "Torrent not found",
        "type": "n8n-nodes-base.telegram",
        "position": [
          960,
          470
        ],
        "parameters": {
          "text": "=Film {{$node[\"Webhook\"].json[\"body\"].title}} non trovato.",
          "chatId": "00000000",
          "additionalFields": {}
        },
        "credentials": {
          "telegramApi": "your_bot_credential"
        },
        "typeVersion": 1,
        "id": "a421afe4c35faf1b"
      },
      {
        "name": "Telegram1",
        "type": "n8n-nodes-base.telegram",
        "position": [
          1500,
          490
        ],
        "parameters": {
          "text": "=Scarico {{$node[\"Webhook\"].json[\"body\"].title}}!\nTitolo: {{$node[\"SearchTorrent\"].json[\"torrents\"][0][\"title\"]}}",
          "chatId": "0000000",
          "additionalFields": {}
        },
        "credentials": {
          "telegramApi": "your_bot_credential"
        },
        "typeVersion": 1,
        "id": "e20f157cb1c2f80c"
      },
      {
        "name": "IF2",
        "type": "n8n-nodes-base.if",
        "position": [
          1150,
          280
        ],
        "parameters": {
          "conditions": {
            "string": [
              {
                "value1": "=\"{{$json[\"error\"][\"statusCode\"]}}\"",
                "value2": "=\"409\""
              }
            ]
          }
        },
        "typeVersion": 1,
        "id": "b5fec8c42e4c01cc"
      },
      {
        "name": "Start download new token",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          1340,
          260
        ],
        "parameters": {
          "url": "http://localhost:9091/transmission/rpc",
          "options": {},
          "requestMethod": "POST",
          "authentication": "basicAuth",
          "jsonParameters": true,
          "bodyParametersJson": "={\"method\":\"torrent-add\",\"arguments\":{\"paused\":false,\"download-dir\":\"/media/FILM/TORRENT\",\"filename\":\"{{$node[\"SearchTorrent\"].json[\"torrents\"][0][\"magnet\"]}}\"}}",
          "headerParametersJson": "={\"X-Transmission-Session-Id\":\"{{$node[\"Start download\"].json[\"error\"][\"response\"][\"headers\"][\"x-transmission-session-id\"]}}\"}"
        },
        "credentials": {
          "httpBasicAuth": "Transmission-basic-auth"
        },
        "typeVersion": 1,
        "id": "073b2c77bf2b21f2"
      }
    ],
    "connections": {
      "IF": {
        "main": [
          [
            {
              "node": "Start download",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Torrent not found",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "IF2": {
        "main": [
          [
            {
              "node": "Start download new token",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Telegram1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Webhook": {
        "main": [
          [
            {
              "node": "SearchTorrent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "SearchTorrent": {
        "main": [
          [
            {
              "node": "IF",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Start download": {
        "main": [
          [
            {
              "node": "IF2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Start download new token": {
        "main": [
          [
            {
              "node": "Telegram1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "id": "a1af9945a77506c6",
    "name": "Search and download torrents using transmission-daemon",
    "settings": {},
    "staticData": null,
    "tags": [
      "google"
    ]
  }
}